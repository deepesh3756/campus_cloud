<!DOCTYPE html>
<html>
<head>
  <title>Cookie Test</title>
</head>
<body>
  <h2>Refresh Token Cookie Test</h2>

  <button onclick="login()">LOGIN</button>
  <button onclick="refresh()">REFRESH TOKEN</button>

  <script>
    async function login() {
      const res = await fetch("http://localhost:8081/api/users/login", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        credentials: "include", // ðŸ”¥ REQUIRED
        body: JSON.stringify({
          username: "admin_test_01",
          password: "Admin@123"
        })
      });

      const data = await res.json();
      console.log("LOGIN RESPONSE", data);
    }

    async function refresh() {
      const res = await fetch("http://localhost:8081/api/users/refresh-token", {
        method: "POST",
        credentials: "include" // ðŸ”¥ REQUIRED
      });

      const data = await res.json();
      console.log("REFRESH RESPONSE", data);
    }
  </script>
</body>
</html>
